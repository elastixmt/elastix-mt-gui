<html>
<head><script type="text/javascript" src="domitrss_functions.js"></script></head>
<link rel="stylesheet" href="docstyles.css" />
<body bgcolor="#FFE394">
<br /><br />
<center>
<div class="tutorial">
	<table class="outer" border="0" cellspacing="0" cellpadding="0" width="440" bgcolor="#000000">
		<tr>
			<td>
				<table width="100%" border="0" cellspacing="1" cellpadding="8">
					<tr>
						<td class="sectionHeader"><script type="text/javascript">document.write(getTutorialTitle());</script></td>
					</tr>
					<tr>
						<td class="subsectionHeader">
							<center>
							<script type="text/javascript">
								document.write(generateMenu(19));
							</script>						
						</center></td>
					</tr>					<tr>
						<td class="subsectionHeader">Cloud Element</td>
					</tr>
					<tr>
						<td class="regular">
						
						<p>A cloud element is an optional element of a channel.  According to the RSS spec, a cloud <i>specifies a web service that supports the rssCloud interface which can be implemented in HTTP-POST, XML-RPC or SOAP 1.1. Its purpose is to allow processes to register with a cloud to be notified of updates to the channel, implementing a lightweight publish-subscribe protocol for RSS feeds.</i> </p>
						
						<p>
<pre><span class="code">
&lt;cloud domain="rpc.sys.com" port="80" path="/RPC2" 
	registerProcedure="myCloud.rssPleaseNotify" protocol="xml-rpc" /&gt;
</span></pre>
						</p>
						
						<p><i>In this example, to request notification on the channel it appears in, you would send an XML-RPC message to rpc.sys.com on port 80, with a path of /RPC2. The procedure to call is myCloud.rssPleaseNotify.</i></p>
						
						<p><i>A workstation calls the cloud to register. The procedure takes five parameters: the name of the procedure that the cloud should call to notify the workstation of changes, the TCP port the workstation is listening on, the path to its responder, a string indicating which protocol to use (xml-rpc or soap, case-sensitive), and a list of urls of RSS files to be watched. The cloud can determine the IP address of the caller from the request. A workstation cannot make a registration call on behalf of another. The cloud returns true if it was able to do the registration, false otherwise.</i></p>
						
						<p><i>When a subscribed-to channel changes the cloud calls back to the procedure named in the registration call with one parameter, the url of the channel that changed. At that point the workstation could read the channel, or notify other workstations that the channel has changed, clear a cache, send an email or do nothing. The workstation returns true.</i></p>
						
						<p><i>By convention registrations expire after 25 hours. Workstations should register every 24 hours for each subscription to keep them current.</i></p>
						
						<p>The five parameters (attributes) of a cloud can be obtained with the following <b>DOMIT! RSS</b> methods:</p>
						
<p>
<pre><span class="code">
$element-&gt;getDomain();

$element-&gt;getPort();

$element-&gt;getPath();

$element-&gt;getRegisterProcedure();

$element-&gt;getProtocol();
</span></pre>
						</p>
						
				</td>
					</tr>
					<tr>
						<td class="subsectionHeader">
							<center>
							<script type="text/javascript">
								document.write(generateMenu(19));
							</script>						
						</center></td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
</div>


<br />
<p class="docblurb">Documentation generated by <b>ClassyDoc</b>, using the <b>DOMIT!</b> and <b>SAXY</b> parsers.<br />
Please visit <a href="http://www.engageinteractive.com/opensource.html" target="_child">Engage Interactive</a> to download free copies.</p>
<br />
</center>
</body>
</html>
